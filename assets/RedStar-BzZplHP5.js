import{d as M,i as g,y as v,Q as E,c as B,L as I,o as R,h as C,f as i,e as _,R as k,u as T,T as J,t as L,U as N,_ as A,g as O,b as P,n as x,p as $,w as y,s as V,r as U,x as j}from"./index-CwLm1cb6.js";import{V as S,s as w,o as H}from"./Data-eXkom57B.js";import{P as Y}from"./Page-DDaH2Ids.js";import{g as F}from"./globals-D0lvPSen.js";import{a as K}from"./ModulePage.vue_vue_type_script_setup_true_lang-CWFV359H.js";import{b as q}from"./byTypes-DiOuyN-I.js";import"./sec2str-Bz_R1MGP.js";async function*z(o){for await(const a of o)yield*a}async function*G(o,a){let s="";for await(const n of o)n===a?(yield s,s=""):s+=n;yield s}const Q=(o,a)=>G(z(o),a),W=o=>Q(o,`
`);async function*X(o){for await(const a of o){const s=a.trim();s&&(yield s)}}const Z=/^[| -]+$/;async function*tt(o,a){const{leftBound:s,rightBound:n}=a;for await(const e of o){const t=e.trim();if(Z.test(t))continue;const r=t.split("|").map(m=>m.trim());if(s&&r.shift()!=="")throw new SyntaxError("Inconsistent left bound");if(n&&r.pop()!=="")throw new SyntaxError("Inconsistent right bound");yield r}}class et{constructor(a,s){this.headers=a,this.rows=s}}async function st(o){const a=X(W(o)),s=await a.next();if(s.done)throw new SyntaxError("Text is empty");const n=s.value.split("|").map(m=>m.trim()),e=n[0]==="",t=n[n.length-1]==="";e&&n.shift(),t&&n.pop();const r=tt(a,{leftBound:e,rightBound:t});return new et(n,r)}const at={class:"info-banner"},ot=["href"],nt=M({__name:"CommunityTable",props:{fileName:{}},setup(o){const a=g(),s=o;return v(async()=>{const n=await rt(`../../community/tables/${s.fileName}.md`).then(r=>fetch(r.default)).then(r=>r.text()),e=await st(n),t={};for(const r of e.headers)t[r]=[];for await(const r of e.rows)e.headers.forEach((m,p)=>{if(p==0)return;const d=r[p],f=parseInt(d);t[m].push(isNaN(f)?d:f)});a.value={Name:s.fileName,...t}}),(n,e)=>{const t=E("i18n-t");return a.value?(R(),B(S,{key:0,data:a.value},{default:C(()=>[i("div",at,[e[0]||(e[0]=i("div",null,[i("img",{src:k,alt:"info icon"})],-1)),_(t,{keypath:"COMMUNITY_CONTENT",tag:"p",for:"here"},{default:C(()=>[i("a",{href:`${T(J)}/tree/master/community/tables/${s.fileName}.md`,target:"_blank"},L(n.$t("HERE")),9,ot)]),_:1})])]),_:1},8,["data"])):I("",!0)}}});function rt(o){switch(o){case"../../community/tables/artifacts":case"../../community/tables/artifacts.md":return N(()=>import("./artifacts-Dadz53Bi.js"),[]);default:return new Promise(function(a,s){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+o)))})}}const it=A(nt,[["__scopeId","data-v-5a14ab43"]]),ct="/HadesSpace/assets/portrait_DyingPlanet-B6_7HxyA.jpg",lt={id:"Artifacts",class:"topic"},mt={href:"#Artifacts",class:"art-title"},ut={id:"ModulesByArtType"},pt={class:"switch"},_t={class:"name"},dt={class:"description"},ft=["checked"],ht={__name:"RedStar",setup(o){const a=V(),{t:s}=O(),{MinDarkRSLevel:n}=F,{RedStar:e}=w,{DarkRedStar:t}=w,r=["GhostSpawnSecs","Models","LowerPlanetsMinLevel","MaxPlanetBomberCoverage","MaxPlanetBomberCoverage","GhostSpawner","NumLowerPlanets","MedRiskMining","HighRiskMining"],m=e.AppearanceModels.length-1;r.forEach(c=>{delete e[c],delete t[c]}),s("TID_DARK_RED_STAR_LABEL"),t.TID="TID_DARK_RED_STAR_LABEL",t.TID_Description="TID_JOIN_DARK_RED_STAR_INFO","JumpCosts_T"in e&&(e.JumpShips={JumpCostTransport:[...e.JumpCosts_T],JumpCostMiner:[...e.JumpCosts_M],JumpCostBattleship:[...e.JumpCosts_B]},delete e.JumpCosts_T,delete e.JumpCosts_M,delete e.JumpCosts_B),"JumpCosts_T"in t&&(t.JumpShips={JumpCostTransport:[...t.JumpCosts_T],JumpCostMiner:[...t.JumpCosts_M],JumpCostBattleship:[...t.JumpCosts_B]},delete t.JumpCosts_T,delete t.JumpCosts_M,delete t.JumpCosts_B);const p={RedStar:{RedStar:e},DarkRedStar:H(t,{map:([c,l])=>[c,Array.isArray(l)?l.slice(n):l]})},d=Object.fromEntries(q.artifact.map(c=>[c,f(K(c))]));function f(c){const l=[];for(let u=0;u<m;u++){const b=Object.values(c).map(h=>{if(h.RSLevel==u+1)return h}).filter(h=>h!=null);l.push(b.length?b:null)}return l}function D(){a.commit(j.SWITCH_COMPACT_MODULES_BY_ART_TYPE_TABLE)}return(c,l)=>{const u=U("t");return R(),P("div",null,[_(Y,{"title-loc-key":"TID_RED_STAR","content-args":{data:p.RedStar,iconDir:"game/Stars",tableOpts:{colLvlStartAt:0}},portrait:{src:T(ct),alt:"RedStar"}},null,8,["content-args","portrait"]),_(S,x($({data:p.DarkRedStar,iconDir:"game/Stars",tableOpts:{colLvlStartAt:T(n)}})),null,16),i("h1",lt,[y(i("a",mt,null,512),[[u,"TID_OBJECT_ACTION_ARTIFACTS"]])]),_(it,{"file-name":"artifacts"}),i("div",ut,[_(S,{data:{TID:"MODULES_BY_ARTIFACT_TYPE",Name:"ModulesByArtType",...T(d)}},{default:C(()=>[i("div",pt,[i("div",null,[y(i("p",_t,null,512),[[u,"COMPACT_MODE"]]),y(i("p",dt,null,512),[[u,"COMPACT_MODE_NOTE"]])]),i("input",{id:"compact-mode",class:"checkbox",type:"checkbox",checked:c.$store.state.userSettings.compactModulesByArtTypeTable,onChange:D},null,40,ft),l[0]||(l[0]=i("label",{for:"compact-mode",class:"label"},null,-1))])]),_:1},8,["data"])])])}}},At=A(ht,[["__scopeId","data-v-e48eba47"]]);export{At as default};
